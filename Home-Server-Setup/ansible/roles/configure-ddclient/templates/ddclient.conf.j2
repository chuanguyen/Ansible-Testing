### {{ ansible_managed }}
# Configuration file for ddclient generated by debconf
#
# /etc/ddclient.conf

## Global
use=web
web='https://cloudflare.com/cdn-cgi/trace'
web-skip="ip="
daemon={{ ddclient_daemon }}
syslog=yes
pid=/var/run/ddclient.pid
protocol={{ ddclient_protocol }}
server={{ ddclient_server }}
ssl=yes

### Cloudflare
{% for ddns_domains_to_update in dns_provider_ddns_domains_to_update %}
password='{{ ddns_domains_to_update.dns_provider_token }}'
zone={{ ddns_domains_to_update.zone }}
{{ ddns_domains_to_update.sub_domains | join(',') }}
{% endfor %}
